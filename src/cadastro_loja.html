<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastre sua loja</title>
    
</head>
<body>

    <h1>CADASTRO</h1>
    
    <div id="form_cadastro">
        <form id="formLoja" method="POST">
            
            <label for="nome_loja">Nome do comércio:</label>
            <input id="nome_loja" name="nome_loja" type="text" required>
            <br>

            <label for="senha_loja">Senha:</label>
            <input id="senha_loja" name="senha_loja" type="password" required>
            <br>

            <label for="cod_cnpj">CNPJ:</label>
            <input id="cod_cnpj" name="cod_cnpj" type="text" required>
            <br>

            <label for="telefone_loja">Telefone:</label>
            <input id="telefone_loja" name="telefone_loja" type="text" required>
            <br>

            <label for="email_loja">E-mail:</label>
            <input id="email_loja" name="email_loja" type="email" required>
            <br>

            <label for="estado">Estado:</label>
            <input id="estado" name="estado" type="text" maxlength="2" required>
            <br>

            <label for="cidade">Cidade:</label>
            <input id="cidade" name="cidade" type="text" required>
            <br>

            <label for="rua">Rua:</label>
            <input id="rua" name="rua" type="text" required>
            <br>

            <label for="categoria">Categoria do comércio:</label>
            <input id="categoria" name="categoria" type="text" placeholder="Ex: Hamburgueria, Pastelaria..." required>
            <br>

            <label for="formato">Formato do comércio:</label>
            <input id="formato" name="formato" type="text" placeholder="Ex: Loja física, Online..." required>
            <br>

            <button type="submit" class="salvar">ENVIAR</button>
        </form>
    </div>

    <script src="jquery-3.7.1.min.js"></script>
    <script>
        $('#formLoja').submit(function(e) {
            e.preventDefault();

            $.ajax({
                url: 'insere.php',
                type: 'POST',
                data: $(this).serialize(),
                success: function(resposta) {
                    if (resposta.includes('success')) {
                        alert('Loja cadastrada com sucesso!');
                        $('#formLoja')[0].reset();
                    } else {
                        alert('Erro ao cadastrar: ' + resposta);
                    }
                },
                error: function() {
                    alert('Erro ao se comunicar com o servidor.');
                }
            });
        });
    </script>
</body>
</html>
